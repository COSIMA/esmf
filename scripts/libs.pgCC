#!/bin/sh
# this script expects the pgCC command (or a wrapper to pgCC, e.g. mpiCC)
# and returns the required pgCC system libraries
if [ $1 = "CC" ]; then
$1 -show 2>&1 | awk 'BEGIN { RS=" "}; /^-l/ ' | xargs
else
PGCCEXE=`$1 -dryrun 2>&1 | grep "\/\.pg" | head -1 | awk '{ print $3} '`
PGCCEXE=$PGCCEXE"TermX"
PGCCEXE=`echo $PGCCEXE | sed 's/\.pg.*TermX/pgCC/g'`
$PGCCEXE -show 2>&1 | grep DEFSTDLIBS | sed 's/DEFSTDLIBS//g' | sed 's/=//g'
fi
