#  $Id: link_rules,v 1.1.8.1 2006/08/16 20:09:11 theurich Exp $
#
#  link.rules
#

The following commands show how to link a Fortran90 application with the ESMF 
shared libraries on Mac OS X and the IBM compilers. In the command, 
the Fortran90 application is called "myModel".

It is assumed that the ESMF libraries have been built successfully at ESMF_DIR 
with the following environment variables:
ESMF_OS = Darwin
ESMF_COMPILER = xlf
ESMF_ABI = 64 or 32?
ESMF_SITE = default
ESMF_COMM = lam or mpi
ESMF_BOPT = g or O

To simplify the link rules, first define MODDIR and LIBDIR.

For 64-bit addressing:

MODDIR = ${ESMF_DIR}/mod/mod${ESMF_BOPT}/AIX.default.64.default
LIBDIR = ${ESMF_DIR}/lib/lib${ESMF_BOPT}/AIX.default.64.default

For 32-bit addressing:

MODDIR = ${ESMF_DIR}/mod/mod${ESMF_BOPT}/AIX.default.32.default
LIBDIR = ${ESMF_DIR}/lib/lib${ESMF_BOPT}/AIX.default.32.default


The link rules are:

For 64-bit addressing:

mpxlf90_r -q64 -qsuffix=f=F90 -I${MODDIR} myModel.F -brtl  -L${LIBDIR}  -lesmf -lC -o myModel

For 32-bit addressing:

mpxlf90_r -qsuffix=f=F90 -I${MODDIR} myModel.F  -L${LIBDIR} -lesmf -brtl -lC -o myModel 
